--- rustc-beta-src/src/tools/cargo/Cargo.lock.orig	2025-07-14 11:57:13.773604132 -0500
+++ rustc-beta-src/src/tools/cargo/Cargo.lock	2025-07-14 11:58:13.305337361 -0500
@@ -2523,7 +2523,6 @@
 dependencies = [
  "cc",
  "libc",
- "libssh2-sys",
  "libz-sys",
  "openssl-sys",
  "pkg-config",
@@ -2569,20 +2568,6 @@
  "pkg-config",
  "vcpkg",
 ]
-
-[[package]]
-name = "libssh2-sys"
-version = "0.3.1"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "220e4f05ad4a218192533b300327f5150e809b54c4ec83b5a1d91833601811b9"
-dependencies = [
- "cc",
- "libc",
- "libz-sys",
- "openssl-sys",
- "pkg-config",
- "vcpkg",
-]
 
 [[package]]
 name = "libz-rs-sys"
--- rustc-beta-src/src/tools/cargo/Cargo.toml.orig	2025-07-14 11:57:13.773954247 -0500
+++ rustc-beta-src/src/tools/cargo/Cargo.toml	2025-07-14 11:58:13.305708130 -0500
@@ -46,7 +46,7 @@
 curl-sys = "0.4.79"
 filetime = "0.2.25"
 flate2 = { version = "1.1.1", default-features = false, features = ["zlib-rs"] }
-git2 = "0.20.0"
+git2 = { version = "0.20.0", default-features = false, features = ["https"] }
 git2-curl = "0.21.0"
 # When updating this, also see if `gix-transport` further down needs updating or some auth-related tests will fail.
 gix = { version = "0.72.0", default-features = false, features = ["blocking-http-transport-curl", "progress-tree", "parallel", "dirwalk"] }
